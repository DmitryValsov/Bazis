@{
    //ViewData["Title"] = "Home Page";
}

 <style>
    /* =============== Переменные =============== */
   :root {
    --clr-bg-dark: #082d5f;
    --clr-bg-light: #FFFFFF;
    
/*    --clr-primary-start: #082d5f;
    --clr-primary-end: #082d5f;
*/

      --clr-primary-start: #0C2E5E;
      --clr-primary-end:   #0A254D;






    --clr-text-white: #FFFFFF;
    --clr-text-light: rgba(255,255,255,0.8);
    --clr-text-dark: #111827;
    --clr-text-gray: #6B7280;
    --r-sm: 12px;
    --r-lg: 20px;
    --gap-xs: 4px;
    --gap-sm: 8px;
    --gap-md: 16px;
    --gap-lg: 24px;
    --ff: "Stem-Medium",arial,sans-serif;
  }
  /* =============== Сброс =============== */
  * { margin:0; padding:0; box-sizing:border-box }
  html, body { height:100%; }
  body {
    font-family: var(--ff);
    background: #0A254D;
    color: var(--clr-text-white);
    line-height:1.5;
  }
  a { text-decoration:none; color:inherit }
  img { max-width:100%; display:block }

  /* =============== Большой хедер (hero) =============== */
  .hero {
      width: 100%;
      height: 240px;
      background: linear-gradient(135deg, var(--clr-primary-start), var(--clr-primary-end));
      position: relative;
      
      /*background: linear-gradient(120deg, var(--clr-primary-start) 55%, var(--clr-primary-end));
      
      box-shadow: 0 8px 36px 0 rgba(48,67,127,0.10);
      transition: transform .5s cubic-bezier(.55,.06,.23,.98);
      will-change: transform;*/


      overflow: hidden;
       padding: env(safe-area-inset-top) var(--gap-md) var(--gap-lg);
    }
   
    .hero::before {
      content: '';
      position: absolute;
      width: 500px;
      height: 500px;
      top: -250px;
      left: -250px;
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 50%;
    }
   
    .hero::after {
      content: '';
      position: absolute;
      width: 600px;
      height: 600px;
      top: 50px;
      right: -300px;
      border: 12px solid rgba(255,255,255,0.08);
      border-radius: 50%;
    }
   
    .hero .circle {
      position: absolute;
      width: 800px;
      height: 800px;
      bottom: -400px;
      right: -400px;
      border: 20px solid rgba(255,255,255,0.06);
      border-radius: 50%;
    }
  


  .hero__header {
    display:flex; align-items:center; gap:var(--gap-sm);
  }
  .hero__logo {
    width:32px; height:32px; background: white; border-radius:var(--r-sm);
  }
  .hero__title { font-size:18px; font-weight:500 }
  .hero__main-title {
    margin-top:var(--gap-lg);
    font-size:32px; font-weight:700; line-height:1.1;
  }
  .hero__subtitle {
    margin-top:var(--gap-xs);
    font-size:15px; color:var(--clr-text-light);
  }
  .hero__btn {
    display:block;
    margin-top:var(--gap-lg);
    width:100%; padding:14px 120px;
    font-size:16px; font-weight:600;
    text-align:center; color: #0A254D;
    background:linear-gradient(90deg,#FFFFFF);
    border:none; border-radius:var(--r-sm);
    cursor: pointer;
  }

  /* =============== Малый фиксированный хедер =============== */
  .small-header {
    position:fixed; top:0; left:0; right:0;
    display:flex; justify-content:space-between; align-items:center;
    padding: env(safe-area-inset-top) var(--gap-md) 8px;
    background:var(--clr-bg-dark); z-index:100;
    opacity:0; pointer-events:none; transition:opacity .3s;
  }
  .small-header.visible {
    opacity:1; pointer-events:auto;
  }
  .small-header button {
    background:none; border:none; padding:8px;
    display:flex; align-items:center; justify-content:center;
  }
  .small-header svg {
    width:24px; height:24px; fill:var(--clr-text-white);
  }

  /* =============== Контент =============== */
  .content {
    background:#F4F5F7;
    color:var(--clr-text-dark);
    border-top-left-radius:var(--r-lg);
    border-top-right-radius:var(--r-lg);
    margin-top:-var(--gap-sm);
    padding:var(--gap-lg) var(--gap-md) calc(var(--gap-lg) + env(safe-area-inset-bottom));
  }
  .section { margin-bottom:var(--gap-lg) }
  .section__header {
    display:flex; justify-content:space-between; align-items:center;
    margin-bottom:var(--gap-md);
  }
  .section__header h2 { font-size:18px; font-weight:600 }
  .section__header a { 
    font-size:14px; color:var(--clr-primary-start);
    font-weight: 600;
    font-family: "Stem-Bold",arial,sans-serif;

    }

  /* =============== Карточки Ближайшей/Прошлых/Истории =============== */
  .card {
    background:#fff;
    border-radius:30px;
    box-shadow:0 2px 6px rgba(0,0,0,0.1);
    padding:var(--gap-md);
    display:flex; align-items:center; justify-content:space-between;
    margin-bottom:var(--gap-md);
  }
  .card__left { display:flex; align-items:center; gap:var(--gap-md) }
  .card__icon {
    width:40px; height:40px; background:var(--clr-primary-start);
    border-radius:50%; display:flex; align-items:center; justify-content:center;
  }
  .card__icon svg { width:20px; height:20px; fill:var(--clr-text-white) }
  .card__info { display:flex; flex-direction:column }
  .card__date { font-size:16px; font-weight:600 }
  .card__text {
    margin-top:var(--gap-xs);
    font-size:14px; color:var(--clr-text-gray);
  }
  .card--map { display:flex; flex-direction:column; align-items:center; gap:var(--gap-xs) }
  .card--map .map-thumb {
    width:88px; height:88px; border-radius:var(--r-sm);
    background:#fff; position:relative;
  }
  .card--map .map-thumb::after {
    content:''; position:absolute; width:24px; height:24px;
    background:url('/img/news/news.jpeg') center/contain no-repeat;
    top:50%; left:50%; transform:translate(-50%,-100%);
  }
  .card--map .map-label {
    font-size:12px; text-align:center; color:var(--clr-text-dark);
  }
  .icon-small { width:20px; height:20px; fill:var(--clr-primary-start) }

  /* =============== Услуги =============== */
  .features {
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
    gap:var(--gap-md);
  }
  .feature-card {
    background:#fff; border-radius:var(--r-sm);
    padding:var(--gap-md); text-align:center;
    box-shadow:0 2px 6px rgba(0,0,0,0.1);
  }
  .feature-card svg {
    width:32px; height:32px; fill:var(--clr-primary-start);
    margin-bottom:var(--gap-sm);
  }
  .feature-card h3 { font-size:16px; margin-bottom:var(--gap-xs); color:var(--clr-text-dark) }
  .feature-card p { font-size:14px; color:var(--clr-text-gray) }

  /* =============== Дополнительные блоки =============== */
  /* Каталог авто */
  .catalog {
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
    gap:var(--gap-md);
  }
  .catalog-item {
    background:#fff; border-radius:var(--r-sm);
    overflow:hidden; box-shadow:0 2px 6px rgba(0,0,0,0.1);
    text-align:center;
  }
  .catalog-item img { width:100%; height:150px; object-fit:cover }
  .catalog-item h3 {
    margin:var(--gap-sm) 0; font-size:16px; color:var(--clr-text-dark);
  }

  /* Новинки */
  .new-arrivals {
    display:flex; overflow-x:auto; gap:var(--gap-md); padding-bottom:var(--gap-sm);
  }
  .new-item {
    flex:0 0 180px; background:#fff; border-radius:var(--r-sm);
    box-shadow:0 2px 6px rgba(0,0,0,0.1);
    text-align:center; padding:var(--gap-sm);
  }
  .new-item img {
    width:100%; height:100px; object-fit:cover; border-radius:var(--r-sm);
  }
  .new-item p { margin-top:var(--gap-xs); font-size:14px; color:var(--clr-text-dark) }

  /* Условия трейд-ин */
  .tradein {
    background:#fff; padding:var(--gap-md); border-radius:var(--r-sm);
    box-shadow:0 2px 6px rgba(0,0,0,0.1);
  }
  .tradein p { font-size:14px; color:var(--clr-text-dark) }

  /* Кредит */
  .credit {
    display:flex; gap:var(--gap-md); flex-wrap:wrap;
  }
  .credit-card {
    flex:1 1 200px; background:#fff; padding:var(--gap-md);
    border-radius:var(--r-sm); box-shadow:0 2px 6px rgba(0,0,0,0.1);
  }
  .credit-card h4 { margin-bottom:var(--gap-xs); font-size:16px; color:var(--clr-text-dark) }
  .credit-card p { font-size:14px; color:var(--clr-text-gray) }

  /* Акции */
  .promotions {
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
    gap:var(--gap-md);
  }
  .promo-item {
    background:#fff; border-radius:var(--r-sm); overflow:hidden;
    box-shadow:0 2px 6px rgba(0,0,0,0.1);
  }
  .promo-item img { width:100%; height:180px; object-fit:cover }
  .promo-item .body { padding:var(--gap-sm) }
  .promo-item h4 { font-size:16px; margin-bottom:var(--gap-xs); color:var(--clr-text-dark) }
  .promo-item p { font-size:14px; color:var(--clr-text-gray) }

  /* Новости */
  .news-list { list-style:none }
  .news-item {
    background:#fff; border-radius:var(--r-sm);
    display:flex; gap:var(--gap-md);
    padding:var(--gap-md); margin-bottom:var(--gap-md);
    box-shadow:0 2px 6px rgba(0,0,0,0.1);
  }
  .news-item img {
    width:120px; height:80px; object-fit:cover; border-radius:var(--r-sm);
  }
  .news-item .info {
    flex:1;
  }
  .news-item .info h4 { font-size:16px; margin-bottom:var(--gap-xs); color:var(--clr-text-dark) }
  .news-item .info p { font-size:14px; color:var(--clr-text-gray) }
  .card_header
  {
    display: flex;
    justify-content: center;
  }
  

 </style>

  <!-- Большой хедер -->
  <div class="hero" id="hero">
    <div class="hero__header">
      <div class="hero__logo"></div>
      <div class="hero__title">Базис Моторс</div>
    </div>
    <div class="hero__main-title">Запись в автосервис</div>
    <div class="hero__subtitle">Запишитесь онлайн в любое время.<br>Работают все наши автосервисы</div>
    <button class="hero__btn" onclick="window.location.href='/Orders/Create';" type="button">Записаться</button>
  </div>

  <!-- Малый фиксированный хедер -->
  

  <!-- Основной контент -->
  <div class="content">
    <!-- Ближайшая запись -->
    <section class="section">
      <div class="section__header">
        <h2>Ближайшая запись</h2>
         <a href="#"></a>
        </div>

  <a class="card-appointment" href="/Orders/Details/@ViewBag.LastOrder.Id">
      <div class="card">
        <div class="card__left">
          <div>
            <img src="/images/main_page/bliz.png" style="width:65px;">
            </div>
          <div class="card__info">
            <div class="card__date">@ViewBag.LastOrder.Car.Brand @ViewBag.LastOrder.Car.Model</div>
            <div class="card__text"> · @ViewBag.LastOrder.ServiceAddress</div>
          </div>
        </div>
        <!--<div class="card--map">
          <div class="map-thumb">
          
          </div>
          <div class="map-label">Сервис в центре</div>
        </div>-->


      </div>
      </a>
      


    </section>

    <!-- Прошлые записи -->
    <section class="section">
      <div class="section__header">
        <h2>Прошлые записи</h2>
      <a href="/Orders/">Смотреть все</a>
      </div>

      @foreach(Order order in ViewBag.FinishOrders)
      { 
        <a class="card-appointment" href="/Orders/Details/@order.Id">
      <div class="card">
        <div class="card__left">
          <div>
            <img src="/images/main_page/prosh.png" style="width:55px;">
            </div>
          <div class="card__info">
            <div class="card__date">@Html.DisplayFor(modelItem => order.Date) - @Html.DisplayFor(modelItem => order.Time)</div>
            <div class="card__text">@Html.DisplayFor(modelItem => order.Usluga)</div>
          </div>
        </div>
       
      </div>
      </a>
      }
    </section>

    <!-- История техосмотра -->
    <section class="section">
      <div class="section__header">
        <h2>История техосмотра</h2>
        <a href="/Car/">Смотреть все</a>
        </div>
      <div class="card">
        <div class="card__left">
           <div>
            <img src="/images/main_page/history.png" style="width:55px;">
            </div>
          <div class="card__info">
            <div class="card__date">Нояб. 2023</div>
            <div class="card__text">Пробег: 73 500 км</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Услуги -->
    <section class="section">
      <div class="section__header"><h2>Наши услуги</h2></div>
      <div class="features">
        <div class="feature-card">
           <!--<svg viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16"/></svg>-->
           <div class="card_header">
           <img src="/images/main_page/diagnost.png" width="60" height="60">
           </div>
          <h3>Диагностика</h3>
          <p>Полная проверка всех систем автомобиля.</p>
        </div>
        <div class="feature-card">
           <div class="card_header">
           <img src="/images/main_page/remont.png" width="60" height="60">
           </div>
          <h3>Ремонт</h3>
          <p>Своевременный ремонт любых неисправностей.</p>
        </div>
        <div class="feature-card">
           <div class="card_header">
           <img src="/images/main_page/obsluszh.png" width="60" height="60">
           </div>
          <h3>Обслуживание</h3>
          <p>Регулярное ТО и замена расходников.</p>
        </div>
        <div class="feature-card">
           <div class="card_header">
           <img src="/images/main_page/montazh.png" width="60" height="60">
           </div>
          <h3>Шиномонтаж</h3>
          <p>Балансировка и сезонная замена колес.</p>
        </div>
      </div>
    </section>

    <!-- Каталог авто -->
    <section class="section">
      <div class="section__header">
        <h2>Каталог авто</h2>
      <a href="https://bazis-motors.ru/cars/">Смотреть все</a>
      </div>

      <div class="new-arrivals">
 @foreach(CatalogCar car in ViewBag.CatalogCar)
{
 
        <div class="new-item">
              @if (!string.IsNullOrEmpty(car.Img))
         {
           <a href="@Html.DisplayFor(modelItem => car.Link)">
          <img src="~/img_catalog/@car.Img" alt="Chery Tiggo 8 Pro">
           </a>
          }
          else
          {
            <a href="@Html.DisplayFor(modelItem => car.Link)">
          <img src="/img/cars/not-found.jpeg" alt="">
          </a>
          }
          <h3>@Html.DisplayFor(modelItem => car.Title)</h3>
          <p>@Html.DisplayFor(modelItem => car.PreviewText)</p>
        </div>


        }
      </div>
    </section>

    <!-- Новинки -->
    <section class="section">
      <div class="section__header">
        <h2>Новинки</h2>
        </div>
      <div class="new-arrivals">
        <div class="new-item">
          <img src="/img/cars/geely-1.jpeg" alt="">
          <p>Авто X</p>
        </div>
        <div class="new-item">
          <img src="/img/cars/geely-1.jpeg" alt="">
          <p>Авто Y</p>
        </div>
        <div class="new-item">
          <img src="/img/cars/geely-1.jpeg" alt="">
          <p>Авто Z</p>
        </div>
      </div>
    </section>


    <!-- Условия трейд-ин -->
    <section class="section">
      <div class="section__header"><h2>Условия трейд-ин</h2></div>
      <div class="tradein">
        <p>Обменяйте ваш старый автомобиль на новый по выгодной цене. Записывайтесь на оценку прямо сейчас!</p>
      </div>
    </section>

    <!-- Кредит -->
    <section class="section">
      <div class="section__header"><h2>Автокредит</h2></div>
      <div class="credit">
        <div class="credit-card">
          <h4>Ставка от 3.5%</h4>
          <p>Срок до 5 лет, минимальный первоначальный взнос 10%.</p>
        </div>
        <div class="credit-card">
          <h4>Рассрочка 0%</h4>
          <p>На 6 месяцев для лояльных клиентов.</p>
        </div>
      </div>
    </section>

    <!-- Акции -->
    <section class="section">
      <div class="section__header"><h2>Наши акции</h2>
      <a href="#">Смотреть все</a>
      </div>
      <div class="new-arrivals">
        <div class="new-item">
          <img src="/img/cars/geely-1.jpeg" alt="">
          <div class="body">
            <h4>Сезонная скидка</h4>
            <p>Скидка 15% на шиномонтаж до конца месяца.</p>
          </div>
        </div>
        <div class="new-item">
          <img src="/img/cars/geely-1.jpeg" alt="">
          <div class="body">
            <h4>Бесплатная диагностика</h4>
            <p>При записи онлайн диагностика бесплатно.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Новости -->
    <section class="section">
      <div class="section__header"><h2>Новости</h2><a href="/News/">Смотреть все</a></div>
      <div class="new-arrivals">
        @foreach(News news in ViewBag.News)
{
  
        <div class="new-item">

            @if (!string.IsNullOrEmpty(news.Img))
         {
          <a href="/News/Details/@news.Id">
          <img src="~/images/@news.Img" alt="Chery Tiggo 8 Pro">
            </a>
          }
          else
          {
            <a href="/News/Details/@news.Id">
          <img src="/img/cars/not-found.jpeg" alt="">
          </a>
          }
          <div class="info">
            <h4>@Html.DisplayFor(modelItem => news.Title)</h4>
            <p>@Html.DisplayFor(modelItem => news.PreviewText)</p>
          </div>
        </div>

        }
       
      </div>
    </section>

  </div>



  <script>
    // Показываем маленький хедер после прокрутки hero
    const hero = document.getElementById('hero');
    const smallHdr = document.getElementById('smallHeader');
    window.addEventListener('scroll', () => {
      smallHdr.classList.toggle('visible', window.scrollY >= hero.offsetHeight);
    });
  </script>